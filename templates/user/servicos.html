{% extends "user/template.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block head %}
    <title>Relatorios</title>
{% endblock %}


	<head>
		<!-- Título da janela -->
		<title>Serviços</title>
		
		<!-- CSS Bootstrap -->
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Permite o header em todas as páginas -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
		<!-- Bootstrap JavaScript -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
		<!-- Ícones do Booststrap-->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
		<link href="style.css" rel="stylesheet">
		<link rel="icon" href="imagens/favicon.ico">
	</head>
{% block content %}	
	<body id="main">
		<div id="header"></div>

		<!-- Título da página 
		<div class="mx-4">
			<h1>Serviços</h1>
		</div>
		-->
		<br>

		<!-- Cria cards formatados como containers e separados em linhas e colunas -->
		<div class="container">
			<div class="row">
				<div class="col">
					<div id="card1" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">

						<!-- Topo do card com uma imagem -->
						<div class="card-header">
							<img src="{% static 'imagens/corte_masc.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
						
						<!-- Corpo do card com as informações do serviço -->
						<div class="card-body text-center pt-1">
							<h2><a id="anchor1" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Corte Masculino</a></h2>
							<p class="card-text">Preço: R$ 144,10 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card2" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/corte_fem.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor2" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Corte Feminino</a></h2>
							<p class="card-text">Preço: R$ 254,70 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card3" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/barba.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor3" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Barba Modelada</a></h2>
							<p class="card-text">Preço: R$ 38,30 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card4" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/pintura.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>

						<div class="card-body text-center pt-1">
							<h2><a id="anchor4" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Coloração</a></h2>
							<p class="card-text">Preço: R$ 228,80 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card5" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/cabelo.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor5" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Permanente</a></h2>
							<p class="card-text">Preço: R$ 153,20 <br>
							Duração: 30min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card6" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/hidratacao.jpg' %}" class="card-img-top" alt="..." height="190">	
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor6" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Hidratação</a></h2>
							<p class="card-text">Preço: R$ 121,50 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card7" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/manicure.jpg' %}" class="card-img-top" alt="..." height="190">	
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor7" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Manicure Pacote</a></h2>
							<p class="card-text">Preço: R$ 215,20 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card8" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/tatuagem.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
						
						<div class="card-body text-center pt-1">
							<h2><a id="anchor8" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Tatuagem</a></h2>
							<p class="card-text">Preço: R$ 230,90 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
				
				<div class="col">
					<div id="card9" class="card mx-md-0 mx-auto my-4 card-custom" style="width: 18rem;">
						<div class="card-header">
							<img src="{% static 'imagens/sobrancelha.jpg' %}" class="card-img-top" alt="..." height="190">
						</div>
												
						<div class="card-body text-center pt-1">
							<h2><a id="anchor9" class="stretched-link" data-bs-toggle="modal" data-bs-target="#edit" onclick="JavaScript:Name(this.innerText)">Sobrancelhas</a></h2>
							<p class="card-text">Preço: R$ 127,40 <br>
							Duração: 30 min</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Botão que adiciona serviços -->
		<div class="d-flex mx-3 justify-content-center">
			<button data-bs-toggle="modal" data-bs-target="#add" class="btn btn-primary mb-3 mx-5">Adicionar Serviço</button>
			<button data-bs-toggle="modal" data-bs-target="#add-type" class="btn btn-secondary mb-3 mx-5">Adicionar Tipo de Serviço</button>
		</div>

		<div class="modal fade" id="add" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Adicionar serviço</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form method="POST" class="post-form" enctype="multipart/form-data">
							<div class="mb-2">
                                {% csrf_token %}
								{{ form.as_p }}
								<button type="submit" name = "reg" class="btn btn-lg btn-sucess" data-bs-dismiss="modal" aria-label="Close"></button>
							</div>
                        </form>

						<hr>
						{% if obj %}
						<h4>Carregamento Concluído: {{img_obj.business}}</h4>
						<img src="{{obj.image.url}}" alt="image" class="img-thumbnail" height= 50% width="50%"> 
						</hr>
						{% endif %}

						{% for x in img %} 
						{% if forloop.first %}<div class="row ">{% endif %} 
							<div class="col-lg-4 col-md-4 col-12" > 
						<div class="text-center mt-2"> 
							<img src="{{x.image.url}}" height="70%" width="70%" class="img-thumbnail" alt="...">  
							<h2 class="text-center" >{{x.caption}}</h2></div> 
							</div> 
						{% if forloop.counter|divisibleby:4 %} 
						</div> 
						<div class=row>{% endif %}
							
							{% if forloop.last %}</div>{% endif %}
							
						{% endfor %}

                    </div>
                </div>
            </div>
        </div>

		<div class="modal fade" id="edit" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Editar serviço</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
							<h4 id="#edit-name" class="text-center mb-2">Nome do serviço</h4>
							<!-- Inserir o preço do serviço no form -->
							<div class="mb-2">
								<label for="price2" class="form-label">Preço (R$)</label>
								<input type="text" class="form-control" id="price2" required>
							</div>
							<!-- Inserir a duração do serviço no form -->
							<div class="mb-2">
								<label for="duration2" class="form-label">Duração (min)</label>
								<input type="text" class="form-control" id="duration2" required>
							</div>
							<!-- Inserir a descrição do serviço no form -->
							<div class="mb-2">
                                <label for="description2" class="form-label">Descrição</label>
                                <textarea class="form-control" id="description2" rows="3"></textarea>
                            </div>
							<!-- Inserir um arquivo no form -->
							<div class="mb-2">
								<label for="imagem2" class="form-label">Imagem para o serviço</label>
								<input type="file" class="form-control" id="imagem2">
							</div>
							<div>
								<button type="submit" class="btn btn-success float-end mt-2">Concluir</button>
							</div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

		<div class="modal fade" id="add-type" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Adicionar Tipo de Serviço</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form>
							<div class="mb-2">
								<label for="type2" class="form-label">Nome do tipo de serviço:</label>
								<input type="text" class="form-control" id="type2" required>
							</div>
							<div class="mb-2 form-check">
                                <input type="checkbox" class="form-check-input" id="check" required>
                                <label class="form-check-label" for="check">Confirmo que não encontrei outro tipo de serviço que se adeque às minhas necessidades</label>
                            </div>
							<div>
								<button type="submit" class="btn btn-success float-end mt-2">Concluir</button>
							</div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

		<h5 class="mx-5 mt-4 mb-4">Os serviços são organizados por tipo para que possam ser escolhidos pelo cliente dentre uma lista, portanto apenas é possível customizar seu serviço específico após atribuí-lo a um tipo. Se o tipo ainda não existe, basta criá-lo.</h5>

	<div id="footer"></div>
	<script>
        $(function() {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
        });
    </script>
	<script>
		function Name(text) {
			document.getElementById("#edit-name").innerText = text;
		}
	</script>
	</body>
{% endblock %}